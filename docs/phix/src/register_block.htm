<head>
 <body>
  <toc>
   <these>
    <get>
     <stripped>
      <h1 class="title">register_block</h1>
      <div id="mainSection">
       <table>
        <col style="width: 5%"/>
        <tr>
         <td>
          <b>Definition:</b>
         </td>
         <td>
         include machine.e (or safe.e)
         <br>
         register_block(<a href="atom.htm">atom</a> a, <a href="integer.htm">integer</a> i)
         </td>
        </tr>
        <tr>
         <td>
          <b>Description:</b>
         </td>
(DEV)
         <td>Add a block of memory to the list of safe blocks maintained by <b>safe.e</b> (the debug version of
           <b>machine.e</b>). The block starts at address a. The length of the block is i bytes.
         </td>
        </tr>
        <tr>
         <td>
          <b>Comments:</b>
         </td>
         <td>This routine is only meant to be used for <b>debugging purposes</b>.
           <b>safe.e</b> tracks the blocks of memory that your program is allowed to
          <a href="peek.htm">peek</a>(),
          <a href="poke.htm">poke</a>(),
          <a href="mem_copy.htm">mem_copy</a>() etc. These are normally
         just the blocks that you have allocated using the
          <a href="allocate.htm">allocate</a>() routine, and which 
         you have not yet freed using
          <a href="free.htm">free</a>().
         In some cases, you may
         acquire additional, external, blocks of memory, perhaps as a result
         of calling a C routine. If you are debugging your program using
           <b>safe.e</b>, you must register these external blocks of memory or
           <b>safe.e</b> will prevent you from
         accessing them. When you are finished using an external block you can
         unregister it using unregister_block().
          <br>
          <br>
         When you include <b>machine.e</b>, you will
         get different versions of register_block() and unregister_block()
         that do nothing. This makes it easy to switch back and forth between
         debug and non-debug runs of your program.
         </td>
        </tr>
        <tr>
         <td>
          <b>Example:</b>
         </td>
         <td>
<!--eucode>
atom addr
addr = c_func(x, {})
register_block(addr, 5)
poke(addr, "ABCDE")
unregister_block(addr)
</eucode-->
<pre>
<font color="#000000"></font><font color="#004080">atom</font><font color="#000000"> addr
addr</font><font color="#0000FF"> =</font><font color="#5E005E"> c_func</font><font color="#0000FF">(</font><font color="#000000">x</font><font color="#0000FF">,</font><font color="#800000"> {}</font><font color="#0000FF">)
</font><font color="#5E005E">register_block</font><font color="#0000FF">(</font><font color="#000000">addr</font><font color="#0000FF">,</font><font color="#000000"> 5</font><font color="#0000FF">)
</font><font color="#7060A8">poke</font><font color="#0000FF">(</font><font color="#000000">addr</font><font color="#0000FF">,</font><font color="#008000"> "ABCDE"</font><font color="#0000FF">)
</font><font color="#5E005E">unregister_block</font><font color="#0000FF">(</font><font color="#000000">addr</font><font color="#0000FF">)</font>
</pre>
         </td>
        </tr>
        <tr>
         <td>
          <b>See Also:</b>
         </td>
         <td>
          <a href="unregister_block.htm">unregister_block</a>
<!-- [DEV]
          <a href="library.htm#safe">
           <font color="#5500FF">
            <b>safe.e</b>
           </font>
          </a>
-->
         </td>
        </tr>
       </table>
       <br>
       <br>
      </div>
     </stripped>
    </get>
   </these>
  </toc>
 </body>
</head>
