<!DOCTYPE html>
<html lang="en" >
 <head>
  <meta charset='utf-8'/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
<!--
  <meta name="referrer" content="no-referrer">
-->
  <title>Simple window - pwa/p2js</title>
  <link type="text/css" rel="stylesheet" media="screen" href="pGUI.css" />
 </head>
 <body>
  <script src="p2js.js"></script>
  <script src="pGUI.js"></script>
  <script>
    // auto-generated by pwa/p2js
//Ihandle dlg, lbl, btn, vbox
let /*Ihandle*/ dlg, lbl, btn, vbox;
//integer clicks = 0
let /*integer*/ clicks = 0;
 
//function click_cb(Ihandle /*btn*/)
function click_cb() {
//  clicks += 1
    clicks += 1;
//  IupSetStrAttribute(lbl,"TITLE","clicked %d times",{clicks})
    IupSetStrAttribute(lbl,"TITLE","clicked %d times",[clicks]);
/*
var source = `https://translate.google.com/translate_tts?tl=ja-JP&q=
              ${encodeURIComponent('konnichiwa')}&client=tw-ob`;
var audio = new Audio(source);
audio.play(); 
*/
var utterance = new SpeechSynthesisUtterance("This is an example of speech synthesis.");
window.speechSynthesis.speak(utterance);
    return IUP_DEFAULT;
//end function
}
 
IupOpen();
lbl = IupLabel("There have been no clicks yet");
//btn = IupButton("Click me", Icallback("click_cb"))
btn = IupButton("Click me", Icallback(click_cb));
//vbox = IupVbox({lbl, IupHbox({IupFill(),btn,IupFill()})})
vbox = IupVbox(["sequence",lbl, IupHbox(["sequence",IupFill(),btn,IupFill()])]);
dlg = IupDialog(vbox,"MARGIN=10x10, GAP=10, RASTERSIZE=400x0");
IupSetAttribute(dlg, "TITLE", "Simple windowed application");
IupShow(dlg);
//IupMainLoop();
//IupClose();
  </script>
 </body>
</html>
